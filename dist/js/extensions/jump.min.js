!function(n,t){"function"==typeof define&&define.amd?define([],t):"undefined"!=typeof exports?t():(t(),n.unknown={})}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(){"use strict";function r(n,t){return(r=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function u(n,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}
/*!
   * RyuseiCode.js
   * Version  : 0.1.4
   * License  : MIT
   * Copyright: 2021 Naotoshi Fujita
   */
function e(n){return null!==n&&"object"==typeof n}function o(n){return Array.isArray(n)}function f(n){return"string"==typeof n}function v(n){return void 0===n}function c(n,t){return void 0===t&&(t=!1),!o(n)||t&&!o(n[0])?[n]:n}function s(n,t){var i,o;t=t,o=!0,(i=n)&&c(t).forEach(function(n){n&&i.classList[o?"add":"remove"](n)})}function h(n,t){if(n)for(var i=Object.keys(n),o=0;o<i.length&&!1!==t(n[i[o]],i[o]);o++);return n}function a(o){for(var n=arguments.length,t=new Array(1<n?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];return t.forEach(function(i){e(i)&&h(i,function(n,t){v(i[t])||(o[t]=i[t])})}),o}function p(n,t,i){n=document.createElement(n);return t&&(f(t)||o(t)?s:function(i,n){if(i){if(f(n))return i.getAttribute(n);e(n)&&h(n,function(n,t){null===n?i.removeAttribute(t):i.setAttribute(t,String(n))})}})(n,t),i&&(i=i,c(n).forEach(i.appendChild.bind(i))),n}var d=new WeakMap;function l(n,t){n&&(n.cancelable&&n.preventDefault(),t&&n.stopPropagation())}function m(n,t){return u=n,e=t,c=!(f=!1),i.cancel=r,i.invoke=function(){h&&a()},i;function i(){c&&r();for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];a=o.bind.apply(o,[this].concat(t)),h||(v(h)&&f?a():h=s?requestAnimationFrame(a):setTimeout(a,e))}function o(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];u.apply(this,t),r()}function r(){(s?cancelAnimationFrame:clearTimeout)(h),h=null}var u,e,f,c,s,h,a}var w={Up:"ArrowUp",Down:"ArrowDown",Right:"ArrowRight",Left:"ArrowLeft",Del:"Delete",Esc:"Escape",Spacebar:" "};function y(t,n){var i,o=(i=t.key,(w[i]||i).toUpperCase());return n&&c(n,!0).some(function(n){return o===n[0].toUpperCase()&&!n[1]==!t.ctrlKey&&!n[2]==!t.shiftKey&&!n[3]==!t.altKey})}document.createRange.bind(document);var j={jumpToLine:"Jump to Line",jumpToolbar:"Jump Toolbar"},b={jumpToLine:["G",!0]},A="jump-to-line",n=function(t){var n;function i(n){n=t.call(this,n)||this;return n.addI18n(j),n.addKeyBindings(b),n}o=t,(n=i).prototype=Object.create(o.prototype),r(n.prototype.constructor=n,o);var o=i.prototype;return o.mount=function(n){(this.n=this.require("Toolbar"))&&(t.prototype.mount.call(this,n),this.t(),this.i())},o.t=function(){var n=p("div",void 0,void 0);this.o=this.n.createField({id:"jumpToLine",tabindex:1},n),this.getOptions("jump").hideLocation||(this.r=p("span",null,n)),this.n.register(A,n,this.i18n.jumpToolbar)},o.i=function(){var i=this;this.on("keymap:jumpToLine",function(n,t){i.u(),i.n.show(A),l(t)}),this.bind(this.o,"input",m(this.e.bind(this),10)),this.bind(this.o,"keydown",function(n){y(n,i.options.keymap.jumpToLine)&&l(n)})},o.e=function(){var n,t,i,o,r,u=parseInt(this.o.value)-1;!isNaN(u)&&(n=u,t=0,i=this.lines.length-1,r=Math.min(t,i),i=Math.max(t,i),o?r<n&&n<i:r<=n&&n<=i)&&(this.View.jump(u,!0),this.Selection.set([u,0]),this.o.focus(),this.u(),this.emit("jump:jumped"))},o.u=function(){this.r&&function(n,t){if(n){if(v(t))return n.textContent;n.textContent=t}}(this.r,this.Selection.getLocation())},i}(function(){function n(n){this.Editor=n,this.event=n.event,this.options=n.options,this.language=n.language}var t,i,o=n.prototype;return o.mount=function(n){var i=this;this.elements=n,h(this.Editor.Components,function(n,t){i[t]=n})},o.destroy=function(){!function t(i,n,o){"function"==typeof o?n.split(" ").forEach(function(n){i.removeEventListener(n,o)}):(n=d.get(o))&&(n.forEach(function(n){t(n.elm,n.events,n.callback)}),d.delete(o))}(null,"",this)},o.on=function(n,t,i,o){this.event.on(n,i?t.bind(i):t,this,o)},o.off=function(n){this.event.off(n,this)},o.emit=function(n){for(var t,i=arguments.length,o=new Array(1<i?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];(t=this.event).emit.apply(t,[n].concat(o))},o.bind=function(n,t,i,o){var r,u,e,f;r=n,u=t,e=o?i.bind(o):i,f=this,u.split(" ").forEach(function(n){r.addEventListener(n,e),f&&((n=d.get(f)||[]).push({elm:r,events:u,callback:e}),d.set(f,n))})},o.getLanguage=function(n){n=n||this.Selection.get().start;var t=this.language,n=this.lines.getInfoAt(n);return n&&n.language&&t.use&&t.use[n.language]?t.use[n.language].config:t},o.invoke=function(n,t){for(var i,o=arguments.length,r=new Array(2<o?o-2:0),u=2;u<o;u++)r[u-2]=arguments[u];return(i=this.Editor).invoke.apply(i,[n,t].concat(r))},o.require=function(n){return this.Editor.require(n)},o.addIcons=function(n){var t=this.options;t.icons=a({},n,t.icons)},o.addI18n=function(n){var t=this.options;t.i18n=a({},n,t.i18n)},o.addKeyBindings=function(n){var t=this.options;t.keymap=a({},n,t.keymap)},o.getOptions=function(n,t){n=this.options[n];return v(n)||!0===n?t||{}:e(n)?a({},t,n):void function(n,t){if(void 0===t&&(t=""),!n)throw new Error("[ryuseicode] "+t)}(!1)},t=n,(o=[{key:"lines",get:function(){return this.Code.Lines}},{key:"i18n",get:function(){return this.options.i18n}}])&&u(t.prototype,o),i&&u(t,i),n}());"undefined"!=typeof window&&window.RyuseiCode&&window.RyuseiCode.compose({Jump:n})});
