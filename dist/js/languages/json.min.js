!function(t,n){"function"==typeof define&&define.amd?define([],n):"undefined"!=typeof exports?n():(n(),t.unknown={})}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(){"use strict";function r(t,n){return(r=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}
/*!
   * RyuseiCode.js
   * Version  : 0.1.4
   * License  : MIT
   * Copyright: 2021 Naotoshi Fujita
   */
/*!
   * RyuseiLight.js
   * Version  : 1.1.8
   * License  : MIT
   * Copyright: 2020 Naotoshi Fujita
   */var n="keyword",i="prop",e="string",o="number",s="boolean",u="operator",f="bracket",a="delimiter",c="space",v="text";function h(t,n){if(t)for(var i=Object.keys(t),e=0;e<i.length;e++)n(t[i[e]],i[e])}function d(t,n){if(void 0===n&&(n=""),!t)throw new Error(n)}function l(t,n){return t.charAt(0)===n}var g=!(void 0===/x/.sticky),b=/\b(?:true|false)\b/,p=/[ \t]+/,m=/"(?:\\"|.)*?"/;var w=function(t){var n,i;function e(){return t.apply(this,arguments)||this}return i=t,(n=e).prototype=Object.create(i.prototype),r(n.prototype.constructor=n,i),e.prototype.run=function(t,n){for(var i=this.tokenize(t,n),e=0;e<i.length;e++)for(var r=i[e],o=0,s=0;s<r.length;s++){var u=r[s],f=u[1].length,a=u[2],c="ryuseicode__token rc__"+u[0].split(".")[0],h=u[1].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");u[2]={category:u[0],code:u[1],html:'<code class="'+c+'">'+h+"</code>",from:o,to:o+f,index:s,state:a.state,depth:a.depth,head:a.head,tail:a.tail,distance:a.distance,language:a.language,split:a.split},o+=f}return i},e}(function(){function t(t){this.language=t,this.init(t)}var n=t.prototype;return n.init=function(i){var e=this;h(i.grammar,function(t,n){i.grammar[n]=e.merge(i,t)}),h(i.use,this.init.bind(this))},n.merge=function(n,t){for(var e=[],i=0;i<t.length;i++){var r=t[i],o=t[i],s=o[0],u=o[1];l(s,"#")&&!u?e.push.apply(e,this.merge(n,n.grammar[s.slice(1)])):function(){var t=u.toString().match(/[gimsy]*$/)[0].replace(/[gy]/g,""),i=u.source+(g?"":"|()");h(n.source,function(t,n){i=i.replace(new RegExp("%"+n,"g"),t.source)}),r[1]=new RegExp(i,(g?"y":"g")+t),e.push(r)}()}return e},n.parse=function(t,n,i,e){var r=0,o=0;this.depth++;t:for(;r<t.length&&!this.aborted;){for(var s=0;s<i.length;s++){var u=i[s],f=u[1],a=u[2];f.lastIndex=r;f=f.exec(t);if(f&&f[0]){if(o<r&&this.push([v,t.slice(o,r)],n,e),"@back"===a){o=r;break t}o=r+=this.handle(f,n,u,e)||1;if("@break"===a)break t;continue t}}r++}return o<r&&this.push([v,t.slice(o)],n,e),this.depth--,r},n.push=function(t,n,i){for(var e=this.depth,r=t[0],o=t[1],s=this.index,u=0,f=0;-1<u&&!this.aborted;){var u=o.indexOf("\n",f),a=this.lines[this.index],c=f===u&&!a.length,h=c?"\n":o.slice(f,u<0?void 0:u),d={depth:e,language:n.id,state:i};h&&(r!==v&&(d.head=-1<u&&!f,d.tail=u<0&&!!f,d.split=-1<u||!!f,d.distance=this.index-s),a.push([r===v&&c?"lb":r,h,d])),-1<u&&(this.index++,this.aborted=this.limit&&this.index>=this.limit,this.aborted||(f=u+1,this.lines[this.index]=[]))}},n.handle=function(t,n,i,e){var r=i[0];if(!r)return 0;var o=t[0];if("@debug"===i[3]&&console.log(o,i),l(r,"@")){d(n.use);var s=n.use[r.slice(1)];return d(s),this.parse(o,s,s.grammar.main,r)}if(l(r,"#")){s=n.grammar[r.slice(1)];return d(s),"@rest"===i[2]&&(o=t.input.slice(t.index)),this.parse(o,n,s,r)}return this.push([r,o],n,e),o.length},n.tokenize=function(t,n){return this.lines=[[]],this.index=0,this.depth=-1,this.limit=n||0,this.aborted=!1,this.parse(t,this.language,this.language.grammar.main,"#main"),this.lines},t}());function y(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.forEach(function(i){var t;null!==(t=i)&&"object"==typeof t&&function(t,n){if(t)for(var i=Object.keys(t),e=0;e<i.length&&!1!==n(t[i[e]],i[e]);e++);}(i,function(t,n){void 0!==i[n]&&(e[n]=i[n])})}),e}function t(){var t={id:"json",name:"JSON",grammar:{main:[[i,/".*?[^\\]"(?=:)/],[e,m],[n,/\bnull\b/],[o,/[+-]?(\d+\.?\d*)([eE][+-]?\d+)?/],[f,/[{}[\]]/],[s,b],[u,/:/],[a,/,/],[c,p]]}};return y({id:t.id,language:t,lexer:new w(t)},{indent:[[/{$/,/^}/,t=["!string"]],[/\[$/,/^]/,t]],autoClose:[["[","]",t={close:t,skip:t,remove:t}],["{","}",t],['"','"',{close:"@quotes",skip:"@quotes",remove:"@quotes"}]]})}document.createRange.bind(document),"undefined"!=typeof window&&window.RyuseiCode&&window.RyuseiCode.register(t())});
