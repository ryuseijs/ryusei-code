!function(t,n){"function"==typeof define&&define.amd?define([],n):"undefined"!=typeof exports?n():(n(),t.unknown={})}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(){"use strict";function i(t,n){return(i=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}
/*!
   * RyuseiCode.js
   * Version  : 0.1.0
   * License  : MIT
   * Copyright: 2021 Naotoshi Fujita
   */
/*!
   * RyuseiLight.js
   * Version  : 1.1.8
   * License  : MIT
   * Copyright: 2020 Naotoshi Fujita
   */var e="keyword",r="comment",o="tag",s="selector",u="atrule",f="prop",a="variable",c="string",l="number",d="function",h="operator",m="bracket",p="delimiter",b="space",v="text";function S(t){return void 0===t}function g(t,n){if(t)for(var e=Object.keys(t),r=0;r<e.length;r++)n(t[e[r]],e[r])}function k(r){for(var t=arguments.length,n=new Array(1<t?t-1:0),e=1;e<t;e++)n[e-1]=arguments[e];return n.forEach(function(e){var t;null!==(t=e)&&"object"==typeof t&&g(e,function(t,n){S(e[n])||(r[n]=e[n])})}),r}function w(t,n){if(void 0===n&&(n=""),!t)throw new Error(n)}function y(t,n,e){n=function(t,n){for(var e=0;e<t.length;e++)if(t[e][0]===n)return e;return-1}(t,n);-1<n?t.splice.apply(t,[n,0].concat(e)):t.push.apply(t,e)}function A(t,n){return t.charAt(0)===n}var x=!S(/x/.sticky),F=/[ \t]+/,I=/\/\*[\s\S]*?(\*\/|$)/,_=/\/\/.*/;function n(){var t=k({id:"css",name:"CSS",grammar:{main:[["#common"],["#findSingleAtrule"],["#findBlock"]],findBlock:[["#block",/(?:(?![\t\n\r ;\{\}])[\s\S])(?:(?![;\{\}])[\s\S])*\{[\s\S]*?\}/,"@rest"]],findSingleAtrule:[["#atrule",/@(?:(?![;\{])[\s\S])+?;/]],findAtrule:[["#atrule",/@(?:(?![;\{])[\s\S])*?(?=[;\{])/]],findSelector:[["#selector",/(?:(?![\t\n\r ;\{\}])[\s\S])[\s\S]*?(?=\{)/]],common:[[c,/(["'])[\s\S]*?(?:(?!\\)[\s\S])\1/],[r,I],[b,F]],block:[["#inner",/{/,"@rest"],[m,/}/,"@break"],["#findAtrule"],["#findSelector"],[b,F]],inner:[[m,/{/],["#common"],["#findBlock"],["#props"],["#findAtrule"],["",/}/,"@back"]],atrule:[["#common"],["#url",/\burl\(/,"@rest"],[b,F],[u,/[^\s();]+/],[p,/[:;,]/],["#paren",/\(/,"@rest"]],paren:[[m,/^\(/],["#common"],["#paren",/\(/,"@rest"],[m,/\)/,"@break"],["#props"]],selector:[["#common"],[h,/[>+~]/],[m,/[[\]()]/],[p,/=/],[s,/::?\S+/],[s,/[\W\d]\S+/],[o,/\b[a-z]+|\*/i],[s,/\S+/]],url:[["#common"],[d,/^url/],[m,/\(/],[c,/[^)]+/],[m,/\)/,"@break"]],props:[[f,/[a-z0-9-_\xA0-\uFFFF]+(?=:)/i],["#url",/\burl\(/,"@rest"],[d,/\b[\w-]+(?=\()\b/],[e,/!important|\b(?:initial|inherit|unset)/],[f,/[a-z0-9-]+(?=:)/],[l,/#([0-9a-f]{6}|[0-9a-f]{3})/i],[l,/\bU\+[0-9a-f?-]+/i],[l,/[+-]?(\d+\.?\d*|\d*\.?\d+)/],[p,/[:;,]/],["#paren",/\(/,"@rest"],[m,/[[\])]/],[b,F]]}},{id:"scss",name:"SCSS"}),n=t.grammar;return k(n,{findBlock:[["#block",/([\*-_a-z]|#\{(?:(?!;)[\s\S])*?\}|((#\{(?:(?!;)[\s\S])*?\}|(?:(?![\t-\r ;\{\}\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S]))(#\{(?:(?!;)[\s\S])*?\}|(?:(?![#;\{\}])[\s\S])|#(?:(?!\{)[\s\S]))+?))(?!#)\{[\s\S]*?\}/i,"@rest"]],findSingleAtrule:[["#atrule",/@(#\{|(?:(?![;\{])[\s\S]))+?;/]],findAtrule:[["#atrule",/@(#\{|(?:(?![;\{])[\s\S]))*?(?=[;\{])/]],findSelector:[["#selector",/(?:(?!;)[\s\S])*?(?:(?!#)[\s\S])(?=\{)/,""]],findInterp:[["#interp",/#{/,"@rest"]],common:[["#string"],[r,I],[r,_],[p,/;/],[b,F]],string:[["#singleQuote",/'/,"@rest"],["#doubleQuote",/"/,"@rest"]],singleQuote:[[c,/^'/],["#findInterp"],[c,/(\\'|#[^{]|[^'#])+/],[c,/'/,"@break"]],doubleQuote:[[c,/^"/],["#findInterp"],[c,/(\\"|#[^{]|[^"#])+/],[c,/"/,"@break"]],selector:[["#common"],["#findInterp"],[h,/[>+~]/],[m,/[[\]()]/],[p,/=/],[s,/::?\S+(?=#{)/],[s,/[\W\d]\S+(?=#{)/],[o,/\b[a-zA-Z]+\b|\*/],[s,/([^#\s]|#[^{\s])+/]],url:[["#common"],["#findInterp"],[d,/^url/],[m,/\(/],[c,/[^)]+(?=#{)/],[c,/[^)]+/],[m,/\)/,"@break"]],interp:[[p,/#{/],[p,/}/,"@break"],["#common"],["#props"]]}),n.inner.unshift(["#findInterp"]),y(n.atrule,"#url",[["#findInterp"]]),y(n.props,f,[["#findInterp"],[a,/\$[\w-_]+/]]),t}var j=function(t){var n,e;function r(){return t.apply(this,arguments)||this}return e=t,(n=r).prototype=Object.create(e.prototype),i(n.prototype.constructor=n,e),r.prototype.run=function(t,n){for(var e=this.tokenize(t,n),r=0;r<e.length;r++)for(var i=e[r],o=0,s=0;s<i.length;s++){var u=i[s],f=u[1].length,a=u[2],c="ryuseicode__token rc__"+u[0].split(".")[0],l=u[1].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");u[2]={category:u[0],code:u[1],html:'<code class="'+c+'">'+l+"</code>",from:o,to:o+f,index:s,state:a.state,depth:a.depth,head:a.head,tail:a.tail,distance:a.distance,language:a.language,split:a.split},o+=f}return e},r}(function(){function t(t){this.language=t,this.init(t)}var n=t.prototype;return n.init=function(e){var r=this;g(e.grammar,function(t,n){e.grammar[n]=r.merge(e,t)}),g(e.use,this.init.bind(this))},n.merge=function(n,t){for(var r=[],e=0;e<t.length;e++){var i=t[e],o=t[e],s=o[0],u=o[1];A(s,"#")&&!u?r.push.apply(r,this.merge(n,n.grammar[s.slice(1)])):function(){var t=u.toString().match(/[gimsy]*$/)[0].replace(/[gy]/g,""),e=u.source+(x?"":"|()");g(n.source,function(t,n){e=e.replace(new RegExp("%"+n,"g"),t.source)}),i[1]=new RegExp(e,(x?"y":"g")+t),r.push(i)}()}return r},n.parse=function(t,n,e,r){var i=0,o=0;this.depth++;t:for(;i<t.length&&!this.aborted;){for(var s=0;s<e.length;s++){var u=e[s],f=u[1],a=u[2];f.lastIndex=i;f=f.exec(t);if(f&&f[0]){if(o<i&&this.push([v,t.slice(o,i)],n,r),"@back"===a){o=i;break t}o=i+=this.handle(f,n,u,r)||1;if("@break"===a)break t;continue t}}i++}return o<i&&this.push([v,t.slice(o)],n,r),this.depth--,i},n.push=function(t,n,e){for(var r=this.depth,i=t[0],o=t[1],s=this.index,u=0,f=0;-1<u&&!this.aborted;){var u=o.indexOf("\n",f),a=this.lines[this.index],c=f===u&&!a.length,l=c?"\n":o.slice(f,u<0?void 0:u),d={depth:r,language:n.id,state:e};l&&(i!==v&&(d.head=-1<u&&!f,d.tail=u<0&&!!f,d.split=-1<u||!!f,d.distance=this.index-s),a.push([i===v&&c?"lb":i,l,d])),-1<u&&(this.index++,this.aborted=this.limit&&this.index>=this.limit,this.aborted||(f=u+1,this.lines[this.index]=[]))}},n.handle=function(t,n,e,r){var i=e[0];if(!i)return 0;var o=t[0];if("@debug"===e[3]&&console.log(o,e),A(i,"@")){w(n.use);var s=n.use[i.slice(1)];return w(s),this.parse(o,s,s.grammar.main,i)}if(A(i,"#")){s=n.grammar[i.slice(1)];return w(s),"@rest"===e[2]&&(o=t.input.slice(t.index)),this.parse(o,n,s,i)}return this.push([i,o],n,r),o.length},n.tokenize=function(t,n){return this.lines=[[]],this.index=0,this.depth=-1,this.limit=n||0,this.aborted=!1,this.parse(t,this.language,this.language.grammar.main,"#main"),this.lines},t}());function C(r){for(var t=arguments.length,n=new Array(1<t?t-1:0),e=1;e<t;e++)n[e-1]=arguments[e];return n.forEach(function(e){var t;null!==(t=e)&&"object"==typeof t&&function(t,n){if(t)for(var e=Object.keys(t),r=0;r<e.length&&!1!==n(t[e[r]],e[r]);r++);}(e,function(t,n){void 0!==e[n]&&(r[n]=e[n])})}),r}function t(){var t=n();return C({id:t.id,language:t,lexer:new j(t)},C(function(){var t=["!comment","!string"],n={close:t,skip:t,remove:t},e={close:"@quotes",skip:"@quotes",remove:"@quotes"};return{lineComment:["/*","*/"],blockComment:["/*","*/"],multiline:[["/*","*/",r]],indent:[[/{$/,/^}/,t]],autoClose:[["(",")",n],["[","]",n],["{","}",n],["'","'",e],['"','"',e]]}}(),{lineComment:["//",""]}))}document.createRange.bind(document),"undefined"!=typeof window&&window.RyuseiCode&&window.RyuseiCode.register(t())});
